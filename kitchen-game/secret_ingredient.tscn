[gd_scene load_steps=16 format=3 uid="uid://c80rbusxk2i5s"]

[ext_resource type="PackedScene" uid="uid://ccewotvxo4pxr" path="res://enemy/enemy.tscn" id="1_barak"]
[ext_resource type="Script" path="res://turn_into_secret_ingredient.gd" id="2_8rq8n"]
[ext_resource type="Texture2D" uid="uid://bsj5ua6le431v" path="res://environment/circle.png" id="2_c3642"]
[ext_resource type="Shader" path="res://main/flash.gdshader" id="2_nglhk"]
[ext_resource type="PackedScene" uid="uid://dsq7jqka6wiof" path="res://components/object_detection.tscn" id="3_v0tt7"]

[sub_resource type="Curve" id="Curve_mg5ra"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.101695, 1), 0.0, 0.0, 0, 0, Vector2(0.895196, 0), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_20gtf"]
curve = SubResource("Curve_mg5ra")

[sub_resource type="Gradient" id="Gradient_amx1b"]
colors = PackedColorArray(0.881937, 0.881937, 0.881937, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_6l5hn"]
gradient = SubResource("Gradient_amx1b")

[sub_resource type="CurveTexture" id="CurveTexture_uqw1g"]

[sub_resource type="Curve" id="Curve_gr52m"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.736264), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_me1pd"]
curve = SubResource("Curve_gr52m")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_o7yii"]
particle_flag_disable_z = true
emission_shape = 1
emission_sphere_radius = 33.0
angle_min = -720.0
angle_max = 720.0
direction = Vector3(0, 0, 0)
spread = 180.0
initial_velocity_min = 150.0
initial_velocity_max = 200.0
angular_velocity_min = -1.60933e-05
angular_velocity_max = -1.60933e-05
radial_velocity_min = -191.49
radial_velocity_max = 212.76
gravity = Vector3(0, 0, 0)
scale_min = 2.0
scale_max = 3.0
scale_curve = SubResource("CurveTexture_me1pd")
scale_over_velocity_min = 21.28
scale_over_velocity_max = 63.82
color_ramp = SubResource("GradientTexture1D_6l5hn")
alpha_curve = SubResource("CurveTexture_20gtf")
emission_curve = SubResource("CurveTexture_uqw1g")
hue_variation_min = -0.01
hue_variation_max = 0.02

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3w48j"]
resource_local_to_scene = true
shader = ExtResource("2_nglhk")
shader_parameter/flash_color = Color(1, 1, 1, 1)
shader_parameter/alpha = 1.0
shader_parameter/active = false

[sub_resource type="CircleShape2D" id="CircleShape2D_hktfw"]
radius = 170.047

[node name="SecretIngredient" node_paths=PackedStringArray("turn_into_secret") groups=["ingredient"] instance=ExtResource("1_barak")]
turn_into_secret = NodePath("TurnIntoSecretIngredient")

[node name="DustParticles" type="GPUParticles2D" parent="." index="0"]
z_index = 4
emitting = false
amount = 5
process_material = SubResource("ParticleProcessMaterial_o7yii")
texture = ExtResource("2_c3642")
lifetime = 0.9
one_shot = true
explosiveness = 1.0
randomness = 0.36

[node name="TurnIntoSecretIngredient" type="Node2D" parent="." index="1"]
script = ExtResource("2_8rq8n")

[node name="Head" parent="." index="15" node_paths=PackedStringArray("secret_area_detection")]
material = SubResource("ShaderMaterial_3w48j")
secret_area_detection = NodePath("SecretAreaDetection")

[node name="SecretAreaDetection" parent="Head" index="5" instance=ExtResource("3_v0tt7")]
collision_mask = 512
check_for_bodies = false
check_for_areas = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Head/SecretAreaDetection" index="0"]
shape = SubResource("CircleShape2D_hktfw")
debug_color = Color(0.89, 0.356, 0.623, 0.117647)
